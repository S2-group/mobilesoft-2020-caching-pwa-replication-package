(window.webpackJsonp=window.webpackJsonp||[]).push([[167],{112:function(e,t,n){"use strict";n(110);var r=window.topics||{},o=window.published||{},i=r.hasOwnProperty;window.pl_events=window.pl_events||{topics:r,published:o,subscribe:function(e,t){i.call(this.topics,e)||(this.topics[e]=[]);var n=this.topics[e].push(t)-1;return{remove:function(){delete this.topics[e][n]}}},publish:function(e,t,n){var r=this;t=null!=t?t:{},i.call(this.topics,e)&&this.topics[e].forEach(function(o){o(t),n&&(r.published[e]=t)})},getPublishedEvent:function(e){return this.published[e]},existPublishedEvent:function(e){return!!this.published[e]},events:{cart_order_ready:"cart-order-ready",cart_subscribe:"cart-subscribe",cart_shipment_calculate:"cart-shipment-calculate",cart_subsription_period_changed:"cart-subscription-period-changed",delivery_subscribe:"delivery-subscribe",onload_start_categories:"onload-start-categories",onload_start_pets_recommendations:"onload-start-pets-recommendations",onload_start_pets_list:"onload-start-pets-list",user_loaded:"user-loaded",user_public:"user-public",user_zipcode:"user-zipcode",hide_subscription_banner:"user-subscription",start_recommendations:"start-recommendations",main_element_toogle_class:"main-element-toogle-class",alert_message:"alert-message",update_order:"update-order",shipment_changed:"shipment-changed",order_ready:"order_ready",update_shipment:"update_shipment",start_recommendations_in_cart:"start-recommendations-in-cart",add_recomendation_product:"add-recomendation-product",cart:{update_order_error:"update-order-error"},product_loading:"product-loading",body_app_locked:"body-app-locked",hamburger_is_active:"hamburger-is-active",update_selected_variant:"update-selected-variant",open_gallery:"open-gallery",close_shipment_modal:"close-shipment-modal",close_subscription_modal:"close-subscription-modal",open_select_variants:"open-select-variants",create_subscription:"create-subscription",open_product_modal_idenfify:"open-product-modal-identify",product_remindme:"product-remindme",flash_message:"flash-message",open_member_get_member_modal:"open-member-get-member-modal",new_coupon:"new-coupon",stop_loading:"stop-loading",subscription_dashboard:{loading:"subscription-loading",modal_opened:"modal-opened",updated:"subscription-updated",date_updated:"date-updated",address_updated:"address-updated",payment_updated:"payment-updated",product_added:"product-added"}}};var a=window.pl_events;t.a=a},124:function(e,t,n){"use strict";(function(e){n.d(t,"c",function(){return s}),n.d(t,"d",function(){return d}),n.d(t,"b",function(){return p}),n.d(t,"a",function(){return m}),n(133),n(15),n(16),n(98),n(115);var r=n(128);function o(e,t,n,r,o,i,a){try{var c=e[i](a),s=c.value}catch(e){return void n(e)}c.done?t(s):Promise.resolve(s).then(r,o)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function c(e){o(a,r,i,c,s,"next",e)}function s(e){o(a,r,i,c,s,"throw",e)}c(void 0)})}}function a(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=Object.assign({},{Accept:"application/json","X-Client-Session":Object(r.b)(),"X-Client-Session-Device":Object(r.a)()},e);return t||(n["Content-Type"]="application/json"),n}function c(e,t){return function(){return i(regeneratorRuntime.mark(function e(t,n){var r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r=t,e.t0=n,e.next="json"===e.t0?4:"text"===e.t0?8:12;break;case 4:return e.next=6,t.json();case 6:return r=e.sent,e.abrupt("break",12);case 8:return e.next=10,t.text();case 10:return r=e.sent,e.abrupt("break",12);case 12:if("2"===t.status.toString().charAt(0)){e.next=16;break}return e.abrupt("return",Promise.reject(r));case 16:return e.abrupt("return",Promise.resolve(r));case 17:case"end":return e.stop()}},e)})).apply(this,arguments)}.apply(this,arguments)}function s(e,t){return u.apply(this,arguments)}function u(){return(u=i(regeneratorRuntime.mark(function t(n,r){var o,i,s,u,d,l,p=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=p.length>2&&void 0!==p[2]?p[2]:{},i=p.length>3&&void 0!==p[3]&&p[3],s=p.length>4&&void 0!==p[4]?p[4]:"json",u=a(o,i),d=i?r:JSON.stringify(r),t.next=7,e(n,{credentials:"same-origin",method:"POST",body:d,headers:u});case 7:return l=t.sent,t.abrupt("return",c(l,s));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function d(e,t){return l.apply(this,arguments)}function l(){return(l=i(regeneratorRuntime.mark(function t(n,r){var o,i,s,u,d,l,p=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return o=p.length>2&&void 0!==p[2]?p[2]:{},i=p.length>3&&void 0!==p[3]&&p[3],s=p.length>4&&void 0!==p[4]?p[4]:"json",u=a(o,i),d=i?r:JSON.stringify(r),t.next=7,e(n,{credentials:"same-origin",method:"PUT",body:d,headers:u});case 7:return l=t.sent,t.abrupt("return",c(l,s));case 9:case"end":return t.stop()}},t)}))).apply(this,arguments)}function p(e){return f.apply(this,arguments)}function f(){return(f=i(regeneratorRuntime.mark(function t(n){var r,o,i,s,u=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=u.length>1&&void 0!==u[1]?u[1]:{},o=u.length>2&&void 0!==u[2]?u[2]:"json",i=a(r),t.next=5,e(n,{credentials:"same-origin",method:"GET",headers:i});case 5:return s=t.sent,t.abrupt("return",c(s,o));case 7:case"end":return t.stop()}},t)}))).apply(this,arguments)}function m(e){return h.apply(this,arguments)}function h(){return(h=i(regeneratorRuntime.mark(function t(n){var r,o,i,s=arguments;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return r=s.length>1&&void 0!==s[1]?s[1]:{},o=a(r),t.next=4,e(n,{credentials:"same-origin",method:"DELETE",headers:o});case 4:return i=t.sent,t.abrupt("return",c(i));case 6:case"end":return t.stop()}},t)}))).apply(this,arguments)}}).call(this,n(135))},128:function(e,t,n){"use strict";n.d(t,"b",function(){return c}),n.d(t,"a",function(){return s});var r=n(76),o="x-client-session",i="x-client-session-device",a=n(136);function c(){var e=r.q.get(o);return e||(e=a()),r.q.set(o,e,0,30),e}function s(){var e=r.q.get(i);return e||(e=a()),r.q.set(i,e),e}},272:function(e,t,n){"use strict";n(153),n(15),n(16),n(99);var r=n(282),o=n(274),i=n(276),a=n(76),c=n(271),s=n(275),u=n(124);n.d(t,"a",function(){return d}),n.d(t,"b",function(){return l}),n.d(t,"d",function(){return p}),n.d(t,"c",function(){return f}),n.d(t,"e",function(){return _});var d="https://www.facebook.com";window.fbAsyncInit=function(){FB.init({appId:"211265535746847",xfbml:!0,version:"v4.0"}),FB.AppEvents.logPageView()};var l=function(){"complete"===window.document.readyState?(Object(r.a)(),Object(o.d)(o.c)):window.addEventListener("load",function(){Object(r.a)(),Object(o.d)(o.c)})},p=function(e){var t={email:e.id,source:e.provider===d?"facebook":"google_api",token:e.token};return m("/session/social",e,t)},f=function(e){var t={email:e.id,password:e.password};return m("/session/auth",e,t)},m=function(e,t,n){var r=window.callbackLogin||"",o=""!==r||window.location.href.search("entrar")>0||window.location.href.search("carrinho/email")>0;return Object(u.c)(e,n).then(function(e){return new Promise(function(n,i){h(t,e),g(o,r),n(e)})}).catch(function(e){return new Promise(function(t,n){n(e.json())})})},h=function(e,t){navigator.credentials&&localStorage.setItem("credential",JSON.stringify(e))},g=function(e,t){e?function(e,t){var n=document.createElement("form");for(var r in n.setAttribute("method","post"),n.setAttribute("action",e),t)if(t.hasOwnProperty(r)){var o=document.createElement("input");o.setAttribute("type","hidden"),o.setAttribute("name",r),o.setAttribute("value",t[r]),n.appendChild(o)}document.body.appendChild(n),n.submit()}("/session/redirect",{sp:t}):(function(){if(navigator.credentials){var e=localStorage.getItem("credential");if(e){var t=JSON.parse(e);if(t.password&&window.PasswordCredential)(n=new PasswordCredential({id:t.id,password:t.password})).name=t.name,navigator.credentials.store(n);else if(t.id&&t.name&&t.iconURL&&t.provider&&window.FederatedCredential){var n=new FederatedCredential({id:t.id,name:t.name,iconURL:t.iconURL,provider:t.provider});navigator.credentials.store(n)}localStorage.removeItem("credential"),Object(c.f)(t.provider)}}}(),Object(i.a)())},b=function(){a.q.delete("PL_sid"),window.location.assign("/session/logout")},v=function(){s.a.disable().then(b).catch(b)},_=function(){"undefined"==typeof smartlock?s.a.initialize(!1).then(function(){v()}):v()}},274:function(e,t,n){"use strict";n.d(t,"a",function(){return c}),n.d(t,"d",function(){return s}),n.d(t,"b",function(){return u}),n.d(t,"c",function(){return l}),n(15),n(16);var r=n(272),o=n(62),i=n(271),a=n(76),c="https://accounts.google.com",s=function(e){if(!document.getElementById("google-js")){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="google-js",t.onload=(e||function(){}).bind(void 0),t.src="https://apis.google.com/js/api:client.js";var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)}},u=function(e,t){return new Promise(function(t,n){var o=function(e){if(e){var o={id:e.getBasicProfile().getEmail(),name:e.getBasicProfile().getName(),iconURL:e.getBasicProfile().getImageUrl(),token:e.getAuthResponse().id_token,provider:c};Object(r.d)(o).then(function(e){Object(i.d)("google","success");var n=e.json?e.json().email:e.email;a.q.set("PL_email",n),t(e)}).catch(function(e){Object(i.d)("google","error"),n(e)})}};gapi&&gapi.auth2&&gapi.auth2.getAuthInstance&&function(){var r=gapi.auth2.getAuthInstance();if(r.isSignedIn.get()){var i=r.currentUser.get();if(i.getBasicProfile().getEmail()===e)return t(i)}return r.signIn({login_hint:e||""}).then(o).catch(function(e){return n(e)})}().then(o).catch(function(e){return n(e)})})},d=function(){return gapi.load("auth2",function(){gapi.auth2.init({client_id:"447418113095-p03nqdsrukba19jan6hfuc69qd170ne8.apps.googleusercontent.com",cookiepolicy:"single_host_origin"})})},l=function(){document.getElementById("google-js")?Object(o.g)(function(){d()}):d()}},275:function(e,t,n){"use strict";n.d(t,"a",function(){return s}),n(15),n(16),n(121),n(284);var r=n(76),o=n(272),i=n(271),a=n(274),c="userCanceled",s={data:null,credentialOptions:{supportedAuthMethods:["smartlock://id-and-password","https://accounts.google.com"],supportedIdTokenProviders:[{uri:"https://accounts.google.com",clientId:"447418113095-p03nqdsrukba19jan6hfuc69qd170ne8.apps.googleusercontent.com"}]},useIdTokenForAuth:function(e){if(e)return this.data={id:e.id,name:e.displayName,iconURL:e.profilePicture,token:e.idToken,provider:a.a},e.password?this.sendToLogin():this.sendToSocialLogin()},sendToLogin:function(){Object(o.c)(this.data)},sendToSocialLogin:function(){Object(o.d)(this.data)},handleRetrieveError:function(e){if(e&&e.type&&e.type!==c)return smartlock.hint(this.credentialOptions).then(this.useIdTokenForAuth.bind(this)).catch(this.handleCredentialError.bind(this));this.handleCredentialError({type:c})},handleCredentialError:function(e){var t="error";switch(e.type){case c:this.setCookie(),this.disable(),t="error-user-canceled";break;case"noCredentialsAvailable":this.setCookie(),this.disable(),t="error-no-credentials";break;case"requestFailed":t="error-request-failed";break;case"operationCanceled":t="error-operation-canceled";break;case"illegalConcurrentRequest":t="error-ilegal-concurrent-request";break;case"initializationError":t="error-initialization";break;case"configurationError":t="error-cofiguration"}Object(i.d)("smartlock",t)},handleSmartLockResult:function(e){return e.password?(this.data=e,this.sendToLogin()):!!e&&(this.data=JSON.parse(atob(e.idToken.split(".")[1])),r.q.set("PL_sid",this.data.sub),this.useIdTokenForAuth(e),Object(i.d)("smartlock","success"),!0)},shouldTrySmartLock:function(){return!r.q.get("PL_sid")||"userCanceledSm"!==r.q.get("PL_sid")},onload:function(){this.increaseGoogleYoloTimeout(),this.shouldTrySmartLock()&&smartlock.retrieve(this.credentialOptions).then(this.handleSmartLockResult.bind(this)).catch(this.handleRetrieveError.bind(this))},setCookie:function(){r.q.set("PL_sid","userCanceledSm",7)},increaseGoogleYoloTimeout:function(){try{googleyolo.setTimeouts(5e3)}catch(e){console.log(e)}},initialize:function(e){var t=this;return new Promise(function(n){var r=function(){var r=document.createElement("script");r.src="https://smartlock.google.com/client",r.async=!0,r.onload=e?t.onload.bind(t):function(){t.increaseGoogleYoloTimeout(),n()},document.querySelector("head").appendChild(r)};"complete"===window.document.readyState?r():window.addEventListener("load",function(){r()})})},disable:function(){return smartlock.disableAutoSignIn()}}},276:function(e,t,n){"use strict";n.d(t,"c",function(){return u}),n.d(t,"b",function(){return d}),n.d(t,"a",function(){return l}),n(97),n(153),n(102);var r=n(76),o=n(112),i=n(275),a=n(272),c=n(62),s=n(124),u=function(e){r.q.set("PL_email",e)},d=function(e){var t="".concat(Object(c.c)(),"/api/v2/users/").concat(e,"/public");return Object(s.b)(t).then(function(e){return o.a.publish(o.a.events.user_public,e,!0),r.q.set(r.i,e.public_id),e})},l=function(){return Object(s.b)("/service/user/current").then(function(t){if(e(t),o.a.publish(o.a.events.user_loaded,t,!0),!t.logged)return i.a.initialize(!0),Object(a.b)(),void o.a.publish(o.a.events.user_zipcode,n);i.a.initialize(!1),isMobileAccess||OneSignal.push(["sendTags",{firstName:t.name}]),r.q.get(r.c)||r.q.set(r.c,t.email);try{r.q.set(r.d,t.new_client)}catch(e){}window.infoPetlove.client=t;var n=t.last_address?t.last_address.zipcode:"";return function(e){e&&(e=e.replace(/(\d{5})(\d{3})/,"$1-$2"),r.q.set(r.o,e))}(n),o.a.publish(o.a.events.user_zipcode,n),t}).catch(function(t){i.a.initialize(!0);return Object(a.b)(),o.a.publish(o.a.events.user_loaded,{logged:!1,new_client:!0},!0),e(t),t});function e(e,t){try{e=e.data||e,e=JSON.parse(e)}catch(t){e={message:""}}e.message&&(t=e.message.success?"success":"error",e.message[t]&&o.a.publish(o.a.events.flash_message,{text:e.message[t],type:t,ctx:body}))}}},282:function(e,t,n){"use strict";n.d(t,"a",function(){return a}),n.d(t,"b",function(){return c}),n(153),n(15),n(16);var r=n(272),o=n(271),i=n(76),a=function(){return document.getElementById("facebook-jssdk")?Promise.resolve(window.FB):new Promise(function(e){var t=document.createElement("script");t.type="text/javascript",t.async=!0,t.id="facebook-jssdk",t.src="https://connect.facebook.net/pt_BR/sdk.js",t.addEventListener("load",function(){e(window.FB)});var n=document.getElementsByTagName("script")[0];n.parentNode.insertBefore(t,n)})},c=function(){var e;return new Promise(function(t,n){FB.login(function(a){a.authResponse?(e=a.authResponse.accessToken,FB.api("/me",{fields:"email,name,picture"},function(a){var c={id:a.email,name:a.name,iconURL:a.picture.data.url||DEFAULT_IMG,provider:r.a,token:e};Object(r.d)(c).then(function(e){Object(o.d)("facebook","success");var n=e.json?e.json().email:e.email;i.q.set("PL_email",n),t(e)}).catch(function(e){Object(o.d)("facebook","error"),n(e)})})):n(null)},{scope:"email"})})}},285:function(e,t,n){"use strict";n.r(t);var r=n(112),o=n(76),i=n(276),a={name:"user-component",data:function(){return{email:null}},watch:{startup:{handler:"startup",immediate:!0}},methods:{startup:function(){var e=this;window.addEventListener("load",function(){e.email=o.q.get("PL_email"),e.getUser()})},getUser:function(){var e=this;Object(i.a)().then(function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.publishMessages(t),e.getPublicUser(t.email)}).catch(function(e){console.log("Ocorreu um erro ao buscar usuário",e)})},publishMessages:function(e){for(var t in e.message)r.a.publish(r.a.events.flash_message,{text:e.message[t],type:t})},getPublicUser:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o.q.get(o.c);e&&Object(i.b)(e)}}},c=n(269),s=Object(c.a)(a,function(){var e=this.$createElement;return(this._self._c||e)("div")},[],!1,null,null,null);t.default=s.exports},62:function(e,t,n){"use strict";function r(){var e,t,n=window.location;"pushState"in history?history.pushState("",document.title,n.pathname+n.search):(e=document.body.scrollTop,t=document.body.scrollLeft,n.hash="",document.body.scrollTop=e,document.body.scrollLeft=t)}n.d(t,"h",function(){return r}),n.d(t,"g",function(){return o}),n.d(t,"c",function(){return i}),n.d(t,"a",function(){return a}),n.d(t,"e",function(){return c}),n.d(t,"f",function(){return s}),n.d(t,"d",function(){return u}),n.d(t,"b",function(){return d}),n(97),n(103),n(98),n(102),n(99);var o=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.msRequestAnimationFrame||window.setTimeout,i=function(){return"".concat("https","://").concat("api.petlove.com.br",":").concat("443")},a=function(){return"".concat("https","://").concat("catalog.petlove.com.br",":").concat("443")},c=function(){return"".concat("https","://").concat("search.petlove.com.br")},s=function(){return"".concat("https","://").concat("events-tracker.petlove.com.br")},u=function(){return"".concat("wss","://").concat("pombo-api.petlove.com.br")},d=function(){return window.isMobileAccess?"mobile":"desktop"};window.infoPetlove={client:{},order:{},product:window.productJSON||{}},window.BUILD_NUMBER="5d97b2d97aa1f151bbb50ec5",window.OneSignal=window.OneSignal||[],window.lazySizesConfig=window.lazySizesConfig||{},lazySizesConfig.loadMode=1},76:function(e,t,n){"use strict";n.d(t,"f",function(){return r}),n.d(t,"l",function(){return o}),n.d(t,"k",function(){return i}),n.d(t,"o",function(){return a}),n.d(t,"d",function(){return c}),n.d(t,"c",function(){return s}),n.d(t,"i",function(){return u}),n.d(t,"m",function(){return d}),n.d(t,"n",function(){return l}),n.d(t,"g",function(){return p}),n.d(t,"h",function(){return f}),n.d(t,"e",function(){return m}),n.d(t,"b",function(){return h}),n.d(t,"a",function(){return g}),n.d(t,"j",function(){return b}),n.d(t,"q",function(){return v}),n.d(t,"p",function(){return _}),n.d(t,"s",function(){return w}),n.d(t,"r",function(){return y}),n(125),n(121);var r="PL_pendingCoupon",o="IPS_checkout",i="PL_meliuz",a="PL_zipcode",c="PL_newClient",s="PL_email",u="PL_publicId",d="x-client-session",l="x-client-session-device",p="PL_productPromotionalBanner",f="PL_productPromotionalBannerColor",m="PL_petProfileUpdated",h="PL_donationSlug",g="PL_donationName",b="PL_subscriptionFeedback",v={get:function(e){for(var t=e+"=",n=document.cookie.split(";"),r=0;r<n.length;r++){for(var o=n[r];" "==o.charAt(0);)o=o.substring(1);if(-1!=o.indexOf(t)){var i=o.substring(t.length,o.length);return decodeURIComponent(i)}}return null},set:function(e,t,n,r){var o=JSON.stringify(t);o=JSON.parse(o);var i=new Date,a=24*n*60*60*1e3;r&&(a=60*r*1e3),i.setTime(i.getTime()+a);var c="expires="+i.toUTCString();o=encodeURIComponent(o),document.cookie=e+"="+o+";path=/;"+c},delete:function(e){this.set(e,"",-10)}},_={get:function(e){var t=v.get("PL_cart");return t=t?JSON.parse(t):{totalItems:"0",amount:"0"},e?t[e]:t},set:function(e){e&&(e=JSON.stringify(e),v.set("PL_cart",e))},delete:function(){v.delete("PL_cart")}},w={getUtmCookies:function(){var e=v.get(o);return e?JSON.parse(e):null},getPendingCoupon:function(){return v.get(r)||!1},deletePendingCoupon:function(){v.delete(r)}},y={number:function(){return v.get("PL_orderNumber")},email:function(){return v.get(s)},token:function(){return v.get("PL_orderTokenId")}}}}]);